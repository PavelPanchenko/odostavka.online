/**
 * Утилиты для работы с категориями продуктов
 */

/**
 * Сокращает название категории для отображения в UI
 * @param categoryName - полное название категории
 * @param maxLength - максимальная длина (по умолчанию 8 символов)
 * @returns сокращенное название
 */
export function truncateCategoryName(categoryName: string, maxLength: number = 8): string {
  if (categoryName.length <= maxLength) {
    return categoryName;
  }
  
  // Специальные правила сокращения для известных категорий
  const truncationRules: Record<string, string> = {
    'Молочные продукты': 'Молочные',
    'Хлеб и выпечка': 'Хлеб',
    'Мясо и птица': 'Мясо',
    'Овощи и фрукты': 'Овощи',
    'Детское питание': 'Детское',
    'Здоровое питание': 'ЗОЖ',
    'Быстрое питание': 'Быстрое',
    'Замороженные продукты': 'Замороженные',
    'Орехи и сухофрукты': 'Орехи',
    'Чай и кофе': 'Чай',
    'Рыба и морепродукты': 'Рыба',
    'Специи и приправы': 'Специи',
    'Сладости и десерты': 'Сладости',
    'Консервированные продукты': 'Консервы',
    'Напитки': 'Напитки'
  };
  
  // Если есть специальное правило, используем его
  if (truncationRules[categoryName]) {
    return truncationRules[categoryName];
  }
  
  // Иначе просто обрезаем до максимальной длины
  return categoryName.substring(0, maxLength) + (categoryName.length > maxLength ? '...' : '');
}

/**
 * Получает полное название категории для отображения в деталях
 * @param categoryName - название категории
 * @returns полное название
 */
export function getFullCategoryName(categoryName: string): string {
  // Если название уже полное (больше 10 символов), возвращаем как есть
  if (categoryName.length > 10) {
    return categoryName;
  }
  
  // Обратное сопоставление для восстановления полных названий
  const fullNameMap: Record<string, string> = {
    'Молочные': 'Молочные продукты',
    'Хлеб': 'Хлеб и выпечка',
    'Мясо': 'Мясо и птица',
    'Овощи': 'Овощи и фрукты',
    'Детское': 'Детское питание',
    'ЗОЖ': 'Здоровое питание',
    'Быстрое': 'Быстрое питание',
    'Замороженные': 'Замороженные продукты',
    'Орехи': 'Орехи и сухофрукты',
    'Чай': 'Чай и кофе',
    'Рыба': 'Рыба и морепродукты',
    'Специи': 'Специи и приправы',
    'Сладости': 'Сладости и десерты',
    'Консервы': 'Консервированные продукты',
    'Напитки': 'Напитки'
  };
  
  return fullNameMap[categoryName] || categoryName;
}
